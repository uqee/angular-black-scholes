!function(){"use strict";angular.module("angular-black-scholes",[]).service("blackscholes",[function(){this.NDF=function(t){return Math.exp(-(t*t)/2)/Math.sqrt(2*Math.PI)},this.CNDFs=function(t){var i,a,h=.31938153,r=-.356563782,e=1.781477937,s=-1.821255978,o=1.330274429;return 0>t?1-this.CNDFs(-t):t>6?1:(i=1/(1+.2316419*t),a=((((o*i+s)*i+e)*i+r)*i+h)*i,1-this.NDF(t)*a)},this.CNDFd=function(t){var i,a,h,r=Math.sqrt(2*Math.PI),e=7.07106781186547,s=220.206867912376,o=221.213596169931,n=112.079291497871,g=33.912866078383,M=6.37396220353165,c=.700383064443688,u=.0352624965998911,f=440.413735824752,p=793.826512519948,l=637.333633378831,m=296.564248779674,B=86.7807322029461,N=16.064177579207,v=1.75566716318264,y=.0883883476483184,D=Math.abs(t),F=0;return 37>=D&&(i=Math.exp(-D*D/2),e>D?(a=(((((u*D+c)*D+M)*D+g)*D+n)*D+o)*D+s,h=((((((y*D+v)*D+N)*D+B)*D+m)*D+l)*D+p)*D+f,F=i*a/h):(h=D+1/(D+2/(D+3/(D+4/(D+.65)))),F=i/(r*h))),0>=t?F:1-F},this.probability=function(t,i,a,h){var r=t,e=i,s=a/365,o=h,n=o*Math.sqrt(s),g=Math.log(e/r),M=g/n,c=Math.floor(1/(1+.2316419*Math.abs(M))*1e5)/1e5,u=Math.floor(.3989423*Math.exp(-(M*M)/2)*1e5)/1e5,f=1.330274*Math.pow(c,5),p=1.821256*Math.pow(c,4),l=1.781478*Math.pow(c,3),m=.356538*Math.pow(c,2),B=.3193815*c,N=1-u*(f-p+l-m+B);N=Math.floor(1e5*N)/1e5,0>M&&(N=1-N);var v=Math.floor(1e3*N)/10,y=Math.floor(1e3*(1-N))/10;return[v,y]},this.getOptionBySigma=function(t,i,a,h,r,e){var s=h/100,o=r/365,n=e/100,g=Math.sqrt(o),M=Math.exp(-s*o),c=(Math.log(i/a)+s*o)/(n*g)+.5*n*g,u=c-n*g,f=t?this.CNDF(c):-this.CNDF(-c),p=t?this.CNDF(u):-this.CNDF(-u),l=this.NDF(c);return{price:i*f-a*M*p,delta:f,gamma:l/(i*n*g),vega:i*g*l,theta:(-(i*n*l)/(2*g)-s*a*M*p)/365,rho:a*o*M*p}},this.getSigmaByPriceNR=function(t,i,a,h,r,e){for(var s,o,n=10,g=.01,M=Math.sqrt(2*Math.PI/(r/365))*e/i,c=0;n>c;c++){if(s=this.getOptionBySigma(t,i,a,h,r,100*M),o=s.price-e,Math.abs(o)<g)return M;M-=o/s.vega}return 0},this.getSigmaByPriceB=function(t,i,a,h,r,e){for(var s,o,n,g=.001,M=0,c=200,u=Math.round(Math.log((c-M)/g)/Math.LN2+1),f=0;u>f;f++){if(s=(M+c)/2,o=this.getOptionBySigma(t,i,a,h,r,s),n=o.price-e,Math.abs(n)<g)return s;n>0?c=s:M=s}return 0},this.getSigmaByPrice=function(t,i,a,h,r,e){var s=this.getOptionBySigma(t,i,a,h,r,0).price;return e===s?0:e>s?this.getSigmaByPriceB(t,i,a,h,r,e):-this.getSigmaByPriceB(t,i,a,h,r,s+(s-e))},this.CNDF=this.CNDFs,this.iv=this.getSigmaByPrice,this.bs=this.getOptionBySigma}])}();
//# sourceMappingURL=angular-black-scholes.min.js.map