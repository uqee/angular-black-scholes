!function(){"use strict";var t;"undefined"!=typeof module&&module.exports?(module.exports="angular-black-scholes",t=require("angular")):"undefined"!=typeof window&&(t=window.angular),t.module("angular-black-scholes",[]).service("blackscholes",[function(){this.NDF=function(t){return Math.exp(-(t*t)/2)/Math.sqrt(2*Math.PI)},this.CNDFs=function(t){var i,a,e=.31938153,r=-.356563782,h=1.781477937,o=-1.821255978,s=1.330274429;return 0>t?1-this.CNDFs(-t):t>6?1:(i=1/(1+.2316419*t),a=((((s*i+o)*i+h)*i+r)*i+e)*i,1-this.NDF(t)*a)},this.CNDFd=function(t){var i,a,e,r=Math.sqrt(2*Math.PI),h=7.07106781186547,o=220.206867912376,s=221.213596169931,n=112.079291497871,u=33.912866078383,g=6.37396220353165,M=.700383064443688,c=.0352624965998911,l=440.413735824752,f=793.826512519948,p=637.333633378831,m=296.564248779674,y=86.7807322029461,B=16.064177579207,N=1.75566716318264,d=.0883883476483184,v=Math.abs(t),D=0;return 37>=v&&(i=Math.exp(-v*v/2),h>v?(a=(((((c*v+M)*v+g)*v+u)*v+n)*v+s)*v+o,e=((((((d*v+N)*v+B)*v+y)*v+m)*v+p)*v+f)*v+l,D=i*a/e):(e=v+1/(v+2/(v+3/(v+4/(v+.65)))),D=i/(r*e))),0>=t?D:1-D},this.probability=function(t,i,a,e){var r=t,h=i,o=a/365,s=e,n=s*Math.sqrt(o),u=Math.log(h/r),g=u/n,M=Math.floor(1/(1+.2316419*Math.abs(g))*1e5)/1e5,c=Math.floor(.3989423*Math.exp(-(g*g)/2)*1e5)/1e5,l=1.330274*Math.pow(M,5),f=1.821256*Math.pow(M,4),p=1.781478*Math.pow(M,3),m=.356538*Math.pow(M,2),y=.3193815*M,B=1-c*(l-f+p-m+y);B=Math.floor(1e5*B)/1e5,0>g&&(B=1-B);var N=Math.floor(1e3*B)/10,d=Math.floor(1e3*(1-B))/10;return[N,d]},this.getOptionBySigma=function(t,i,a,e,r,h){var o=e/100,s=r/365,n=h/100,u=Math.sqrt(s),g=Math.exp(-o*s),M=(Math.log(i/a)+o*s)/(n*u)+.5*n*u,c=M-n*u,l=t?this.CNDF(M):-this.CNDF(-M),f=t?this.CNDF(c):-this.CNDF(-c),p=this.NDF(M);return{price:i*l-a*g*f,delta:l,gamma:p/(i*n*u),vega:i*u*p,theta:(-(i*n*p)/(2*u)-o*a*g*f)/365,rho:a*s*g*f}},this.getSigmaByPriceNR=function(t,i,a,e,r,h){for(var o,s,n=10,u=.01,g=Math.sqrt(2*Math.PI/(r/365))*h/i,M=0;n>M;M++){if(o=this.getOptionBySigma(t,i,a,e,r,100*g),s=o.price-h,Math.abs(s)<u)return g;g-=s/o.vega}return 0},this.getSigmaByPriceB=function(t,i,a,e,r,h){for(var o,s,n,u=.001,g=0,M=200,c=Math.round(Math.log((M-g)/u)/Math.LN2+1),l=0;c>l;l++){if(o=(g+M)/2,s=this.getOptionBySigma(t,i,a,e,r,o),n=s.price-h,Math.abs(n)<u)return o;n>0?M=o:g=o}return 0},this.getSigmaByPrice=function(t,i,a,e,r,h){var o=this.getOptionBySigma(t,i,a,e,r,0).price;return h===o?0:h>o?this.getSigmaByPriceB(t,i,a,e,r,h):-this.getSigmaByPriceB(t,i,a,e,r,o+(o-h))},this.CNDF=this.CNDFs,this.iv=this.getSigmaByPrice,this.bs=this.getOptionBySigma}])}();
//# sourceMappingURL=angular-black-scholes.min.js.map