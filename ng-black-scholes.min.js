!function(){"use strict";angular.module("black-scholes",[]).factory("black-scholes",[function(){function t(t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*t)}function a(t){var a,r,o,h,e,n,M,f,u,l,c;return a=.31938153,r=-.356563782,o=1.781477937,h=-1.821255978,e=1.330274429,n=.2316419,M=.3989423,f=Math.abs(t),f>6?1:(u=1/(1+f*n),l=M*Math.exp(-(t*t)/2),c=((((e*u+h)*u+o)*u+r)*u+a)*u,c=1-l*c,0>t&&(c=1-c),c)}function r(t){var a,r=Math.floor(t),o=t-r,h=Math.round(32*o);return 0===h?r+" ":32===h?r+1:h/16===1?r+" 1/2":h/8===1?r+" 1/4":h/8===3?r+" 3/4":(a=h/4,a===Math.floor(a)?r+" "+a+"/8":(a=h/2,a===Math.floor(a)?r+" "+a+"/16":r+" "+h+"/32"))}function o(t,a,r,o){var h,e,n,M,f,u,l,c,i,s,p,b,v,g,q,w,x;return h=t,e=a,n=r/365,M=o,f=M*Math.sqrt(n),u=Math.log(e/h),l=u/f,c=Math.floor(1/(1+.2316419*Math.abs(l))*1e5)/1e5,i=Math.floor(.3989423*Math.exp(-(l*l)/2)*1e5)/1e5,s=1.330274*Math.pow(c,5),p=1.821256*Math.pow(c,4),b=1.781478*Math.pow(c,3),v=.356538*Math.pow(c,2),g=.3193815*c,q=1-i*(s-p+b-v+g),q=Math.floor(1e5*q)/1e5,0>l&&(q=1-q),w=Math.floor(1e3*q)/10,x=Math.floor(1e3*(1-q))/10,[w,x]}function h(r,o,h,e,n,M){var f=e/100,u=n/365,l=Math.sqrt(u),c=Math.exp(-f*u),i=t(b),s=r?a(v):-a(-v),p=r?a(b):-a(-b),b=(Math.log(o/h)+f*u)/(M*l)+.5*M*l,v=b-M*l;return{price:o*p-h*c*s,delta:p,gamma:i/(o*M*l),vega:o*l*i,theta:-(o*M*i)/(2*l)-f*h*c*s,rho:h*u*c*s}}function e(a,r,o,e,n,M){var f,u,l,c,i=100,s=1e-4,p=e/100,b=n/365,v=Math.sqrt(b),g=M/r/(.398*v);for(f=0;i>f;f++){if(u=M-h(a,r,o,p,g,b).price,Math.abs(u)<s)return g;l=(Math.log(r/o)+p*b)/(g*v)+.5*g*v,c=r*v*t(l),g+=u/c}return-1}return{fraction:r,probability:o,option:h,iv:e}}])}();