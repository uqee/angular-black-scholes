!function(){"use strict";angular.module("black-scholes",[]).factory("bsFactory",[function(){function t(t){return Math.exp(-(t*t)/2)/Math.sqrt(2*Math.PI)}function a(r){var o,e,h=.31938153,n=-.356563782,M=1.781477937,u=-1.821255978,f=1.330274429;return 0>r?1-a(-r):r>6?1:(o=1/(1+.2316419*r),e=((((f*o+u)*o+M)*o+n)*o+h)*o,1-t(r)*e)}function r(t,a,r,o){var e,h,n,M,u,f,c,i,l,s,p,v,b,g,w,m,q;return e=t,h=a,n=r/365,M=o,u=M*Math.sqrt(n),f=Math.log(h/e),c=f/u,i=Math.floor(1/(1+.2316419*Math.abs(c))*1e5)/1e5,l=Math.floor(.3989423*Math.exp(-(c*c)/2)*1e5)/1e5,s=1.330274*Math.pow(i,5),p=1.821256*Math.pow(i,4),v=1.781478*Math.pow(i,3),b=.356538*Math.pow(i,2),g=.3193815*i,w=1-l*(s-p+v-b+g),w=Math.floor(1e5*w)/1e5,0>c&&(w=1-w),m=Math.floor(1e3*w)/10,q=Math.floor(1e3*(1-w))/10,[m,q]}function o(t,a,r,o,e,M){var u=o/100,f=e/365,c=M/100,i=Math.sqrt(f),l=Math.exp(-u*f),s=(Math.log(a/r)+u*f)/(c*i)+.5*c*i,p=s-c*i,v=t?n(s):-n(-s),b=t?n(p):-n(-p),g=h(s);return{price:a*v-r*l*b,delta:v,gamma:g/(a*c*i),vega:a*i*g,theta:(-(a*c*g)/(2*i)-u*r*l*b)/365,rho:r*f*l*b}}function e(t,a,r,e,h,n){var M,u,f,c,i=.01,l=20,s=0,p=100;for(M=0;l>M;M++){if(c=(s+p)/2,u=o(t,a,r,e,h,c),f=u.price-n,Math.abs(f)<i)return c;f>0?p=c:s=c}return-1}var h=t,n=a;return{p:r,bs:o,iv:e}}])}();