!function(){"use strict";angular.module("black-scholes",[]).factory("bsFactory",[function(){function t(t){return Math.exp(-(t*t)/2)/Math.sqrt(2*Math.PI)}function a(r){var o,e,h=.31938153,n=-.356563782,M=1.781477937,u=-1.821255978,c=1.330274429;return 0>r?1-a(-r):r>6?1:(o=1/(1+.2316419*r),e=((((c*o+u)*o+M)*o+n)*o+h)*o,1-t(r)*e)}function r(t,a,r,o){var e,h,n,M,u,c,f,i,l,p,s,v,g,b,w,d,m;return e=t,h=a,n=r/365,M=o,u=M*Math.sqrt(n),c=Math.log(h/e),f=c/u,i=Math.floor(1/(1+.2316419*Math.abs(f))*1e5)/1e5,l=Math.floor(.3989423*Math.exp(-(f*f)/2)*1e5)/1e5,p=1.330274*Math.pow(i,5),s=1.821256*Math.pow(i,4),v=1.781478*Math.pow(i,3),g=.356538*Math.pow(i,2),b=.3193815*i,w=1-l*(p-s+v-g+b),w=Math.floor(1e5*w)/1e5,0>f&&(w=1-w),d=Math.floor(1e3*w)/10,m=Math.floor(1e3*(1-w))/10,[d,m]}function o(t,a,r,o,e,h){var u=o/100,c=e/365,f=h/100,i=Math.sqrt(c),l=Math.exp(-u*c),p=(Math.log(a/r)+u*c)/(f*i)+.5*f*i,s=p-f*i,v=t?M(p):-M(-p),g=t?M(s):-M(-s),b=n(p);return{price:a*v-r*l*g,delta:v,gamma:b/(a*f*i),vega:a*i*b,theta:(-(a*f*b)/(2*i)-u*r*l*g)/365,rho:r*c*l*g}}function e(t,a,r,e,h,n){var M,u,c,f,i=.01,l=0,p=500,s=Math.round(Math.log((p-l)/i)/Math.LN2+1);for(u=0;s>u;u++){if(M=(l+p)/2,c=o(t,a,r,e,h,M),f=c.price-n,Math.abs(f)<i)return M;f>0?p=M:l=M}return 0}function h(t,a,r,h,n,M){var u,c,f=e(t,a,r,h,n,M);return 0!==f?f:(u=o(t,a,r,h,n,0).price,c=u+(u-M),f=-e(t,a,r,h,n,c))}var n=t,M=a;return{p:r,bs:o,iv:h}}])}();